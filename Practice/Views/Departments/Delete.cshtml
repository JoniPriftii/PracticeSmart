@model IEnumerable<Practice.ViewModel.ErrorViewModel>

@{
    ViewData["Title"] = "Delete";
    Layout = null;
}

<div class="modal-header">
    <h5 class="modal-title">Modal title</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
</div>
@if (Model.Any())
{
    <div class="modal-body">
        @foreach (var item in Model)
        {
            <p>@item.Error</p>
        }
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Return</button>
    </div>
}
else
{
    <div class="modal-body">
        <h3>Are you sure you want to delete this?</h3>
    </div>

    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button"
            onclick="Create('@Url.Action("DeleteDepartment","Departments")' , @ViewBag.DepId)" class="btn btn-primary">
            Delete
        </button>
    </div>
}



<script>
    function Create(url , depId)
    {
        $.ajax({
            type:"POST",
            url: url,
            data:{id: depId},
            success:function(response)
            {
                location.reload();
            }
        })


    }
</script>



